<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>ðŸŽŒ Anime Inventory</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>ðŸŽŒ Anime Inventory</h1>

    <button id="showTree">Show Tree</button>
    <button onclick="window.location='/api/export_csv'">Export CSV</button>
    <button id="rescanBtn">Rescan</button>

    <div id="treeContainer"></div>

    <script src="tree.js"></script>
    <script>
    document.getElementById('showTree').addEventListener('click', () => {
        fetch('/api/tree')
            .then(res => res.json())
            .then(data => {
                const container = document.getElementById('treeContainer');
                container.innerHTML = "";
                renderTree(data, container);
            });
    });

    document.getElementById('rescanBtn').addEventListener('click', () => {
        fetch('/api/rescan', { method: "POST" })
            .then(res => res.json())
            .then(data => alert(data.status));
    });
    </script>
</body>
</html>
